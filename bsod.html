<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="download.png" type="image/png" />  <title>Windows 10 BSOD Simulation</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background-color: #0078D7;
      color: white;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      height: 100%;
      overflow: hidden;
    }

    .centered {
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      flex-direction: column;
      height: 100%;
    }

    .bsod, .update-screen, .login-screen {
      display: none;
    }

    .bsod {
      max-width: 600px;
      padding: 20px;
      font-size: 1.2em;
      line-height: 1.6;
    }

    .sad-face {
      font-size: 4em;
      margin-bottom: 20px;
    }

    .code {
      font-family: monospace;
      margin-top: 30px;
      font-size: 0.9em;
    }

    #updateBtn {
      margin-top: 30px;
      padding: 10px 20px;
      font-size: 1em;
      background-color: white;
      color: #0078D7;
      border: none;
      cursor: pointer;
    }

    .update-screen img {
      width: 64px;
      height: 64px;
      margin-top: 20px;
    }

    .progress {
      font-size: 2em;
      margin-top: 10px;
    }

    .login-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: url('https://www.groovypost.com/wp-content/uploads/2017/11/Lock-Screen.jpg') center center / cover no-repeat;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .login-screen::after {
      content: "Click to log in";
      position: absolute;
      bottom: 50px;
      color: white;
      font-size: 1.5em;
      background: rgba(0,0,0,0.5);
      padding: 10px 20px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <!-- BSOD Screen -->
  <div class="centered bsod" id="bsod">
    <div class="sad-face">:(</div>
    <div>
      Your PC ran into a problem and needs to restart. We're just collecting some error info, and then we'll restart for you.
    </div>
    <div class="code">
      <br>For more information about this issue and possible fixes, visit https://www.windows.com/stopcode
      <br><br>If you call a support person, give them this info:
      <br>Stop code: CRITICAL_PROCESS_DIED
    </div>
    <button id="updateBtn">Update</button>
  </div>

  <!-- Update Screen -->
  <div class="centered update-screen" id="updateScreen">
    <div>Working on updates</div>
    <img src="https://media.tenor.com/V0vzeHv6LbwAAAAj/windows-loandig-cargando.gif" alt="Loading dots">
    <div class="progress" id="progress">0%</div>
    <div>Don't turn off your computer. This will take a while.</div>
  </div>

  <!-- Login Screen -->
  <div class="login-screen" id="loginScreen"></div>

  <!-- Audio Elements -->
  <audio id="startupSound" src="https://www.myinstants.com/media/sounds/windows-11-startup-sound-effect.mp3"></audio>
  <audio id="errorSound" src="https://www.myinstants.com/media/sounds/erro.mp3"></audio>

  <script>
    const bsod = document.getElementById('bsod');
    const updateScreen = document.getElementById('updateScreen');
    const loginScreen = document.getElementById('loginScreen');
    const progress = document.getElementById('progress');
    const updateBtn = document.getElementById('updateBtn');
    const startupSound = document.getElementById('startupSound');
    const errorSound = document.getElementById('errorSound');

    const totalDuration = 600000; // 10 minutes in ms
    const percentInterval = totalDuration / 100;

    let interval;

    function startUpdate(resume = false) {
      bsod.style.display = 'none';
      updateScreen.style.display = 'flex';

      let startTime = Date.now();
      if (!resume) {
        localStorage.setItem('updateStart', startTime);
      } else {
        startTime = parseInt(localStorage.getItem('updateStart'), 10);
      }

      function updateProgress() {
        const elapsed = Date.now() - startTime;
        let percent = Math.floor((elapsed / totalDuration) * 100);
        if (percent > 100) percent = 100;
        progress.textContent = percent + '%';

        if (percent >= 100) {
          clearInterval(interval);
          localStorage.removeItem('updateStart');
          updateScreen.style.display = 'none';
          loginScreen.style.display = 'flex';
          startupSound.play();
        }
      }

      updateProgress();
      interval = setInterval(updateProgress, percentInterval);
    }

    updateBtn.onclick = () => {
      startUpdate(false);
    };

    loginScreen.onclick = () => {
      loginScreen.style.display = 'none';
      bsod.style.display = 'flex';
      errorSound.play();
    };

    // On load, check if update was in progress
    const savedStart = localStorage.getItem('updateStart');
    if (savedStart) {
      startUpdate(true);
    } else {
      bsod.style.display = 'flex';
    }
    startupSound.volume = 1.0; // Max volume (range is 0.0 to 1.0)
startupSound.play();

  </script>
</body>
</html>
